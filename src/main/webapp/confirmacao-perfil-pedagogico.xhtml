<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="primefaces">
<h:panelGroup rendered="#{chatBean.renderizarConfirmacaoPerfilPedagogico or chatBean.perfilPedagogico != null}">
    <ui:repeat value="#{chatBean.preferenciasAbordagem}" var="preferencia">
        <div class="containerMensagem mensagemUsuario">
            <div class="bolhaMensagem bolhaMensagemUsuario">
                #{preferencia}
            </div>
        </div>
    </ui:repeat>

    <div class="containerMensagem mensagemIA">
        <div class="bolhaMensagem bolhaMensagemIA">
            Muito bem! Esse é o meu entendimento da sua descrição sobre como deseja abordar as trilhas da unidade de aprendizagem:
        </div>
    </div>

    <div class="containerMensagem mensagemIA">
        <div class="bolhaMensagem bolhaMensagemIA">
            <strong>Tom da abordagem:</strong> #{chatBean.perfilPedagogico.tomDeVoz}
        </div>
    </div>

    <div class="containerMensagem mensagemIA">
        <div class="bolhaMensagem bolhaMensagemIA">
            <strong>Metodologia sugerida:</strong> #{chatBean.perfilPedagogico.metodologiaSugerida}
        </div>
    </div>

    <div class="containerMensagem mensagemIA">
        <div class="bolhaMensagem bolhaMensagemIA">
            <strong>Público alvo:</strong> #{chatBean.perfilPedagogico.publicoAlvoInferido}
        </div>
    </div>

    <div class="containerMensagem mensagemIA">
        <div class="bolhaMensagem bolhaMensagemIA">
            <strong>Diretriz:</strong> #{chatBean.perfilPedagogico.diretrizMestra}
        </div>
    </div>

    <h:panelGroup styleClass="containerMensagem mensagemIA" layout="block" rendered="#{not empty chatBean.perfilPedagogico.elementosObrigatorios}">
        <div class="bolhaMensagem bolhaMensagemIA">
            <strong>Elementos obrigatórios:</strong>
            <br/>
            #{chatBean.perfilPedagogico.elementosObrigatoriosConcatenados}
        </div>
    </h:panelGroup>

    <h:panelGroup styleClass="containerMensagem mensagemIA" layout="block" rendered="#{not empty chatBean.perfilPedagogico.restricoesNegativas}">
        <div class="bolhaMensagem bolhaMensagemIA">
            <strong>Restrições:</strong>
            <br/>
            #{chatBean.perfilPedagogico.restricoesNegativasConcatenados}
        </div>
    </h:panelGroup>

    <div class="containerMensagem mensagemIA">
        <div class="bolhaMensagem bolhaMensagemIA">
            Por favor, confirme se o meu entendimento está correto para continuarmos para a trilha de aprendizagem:
        </div>
    </div>

    <h:panelGroup layout="block" styleClass="containerMensagem containerOpcoesChat" rendered="#{chatBean.renderizarConfirmacaoPerfilPedagogico}">
        <div class="listaOpcoesChat">
            <p:commandButton styleClass="botaoOpcao"
                             value="Confirmar"
                             action="#{chatBean.confirmarPreferenciaAbordagem()}"
                             oncomplete="rolarParaBaixoChat();"
                             update="@form"
                             process="@this"  />
            <p:commandButton styleClass="botaoOpcao ui-button-secondary"
                             value="Enviar mais informações"
                             oncomplete="rolarParaBaixoChat();"
                             action="#{chatBean.redefinirPerfilPedagogico()}"
                             update="@form"
                             process="@this" />
        </div>
    </h:panelGroup>

    <h:panelGroup layout="block" styleClass="containerMensagem mensagemUsuario" rendered="#{not chatBean.renderizarUnidadeAprendizagemSelecionada and not chatBean.renderizarConfirmacaoPerfilPedagogico}">
        <div class="bolhaMensagem bolhaMensagemUsuario">
            Confirmar
        </div>
    </h:panelGroup>

    <h:panelGroup layout="block" rendered="#{chatBean.renderizarUnidadeAprendizagemSelecionada and not chatBean.renderizarConfirmacaoPerfilPedagogico}">
        <div class="containerMensagem mensagemUsuario">
            <div class="bolhaMensagem bolhaMensagemUsuario">
                Enviar mais informações
            </div>
        </div>

        <div class="containerMensagem mensagemIA">
            <div class="bolhaMensagem bolhaMensagemIA">
                Muito bem, dê mais detalhes abaixo de como você gostaria de abordar a unidade de aprendizagem selecionada.
            </div>
        </div>
    </h:panelGroup>
</h:panelGroup>

</html>