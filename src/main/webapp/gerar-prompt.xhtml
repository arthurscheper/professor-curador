<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="primefaces">
<h:panelGroup rendered="#{chatBean.renderizarGerarPrompt}">
    <h:panelGroup rendered="#{chatBean.ultimoResultado == null}">
        <div class="mensagem-inicial">
            <p>
                Certo, vamos trabalhar na Fase <span class="texto-destaque">#{chatBean.faseTrilha.nome}</span> desta trilha.
            </p>

            <p>
                Descreva abaixo o que você gostaria de gerar
            </p>
        </div>

        <p:inputTextarea rows="3" styleClass="mensagem-professor" placeholder="Digite aqui" value="#{chatBean.requisicao}"/>

        <div class="botao-enviar">
            <p:commandButton value="Enviar" action="#{chatBean.enviarRequisicao()}" update="@form"/>
        </div>
    </h:panelGroup>
    <h:panelGroup rendered="#{chatBean.ultimoResultado != null}">
        <div class="mensagem-inicial">
            <p>
                <h:outputText value="Sugestão:"/>
                <h:outputText value="#{chatBean.ultimoResultado.sugestaoPrompt}"/>
            </p>

            <p>
                <h:outputText value="Crítica:" />
                <h:outputText value="#{chatBean.ultimoResultado.criticaTecnica}"/>
            </p>
            <ui:repeat value="#{chatBean.ultimoResultado.perguntasRefinamento}" var="pergunta" varStatus="loop">
                <p>
                    <h:outputText value="Pergunta #{loop.index}:"/>
                    <h:outputText value="#{pergunta}" />
                </p>
            </ui:repeat>
        </div>

        <p:inputTextarea rows="3" styleClass="mensagem-professor" placeholder="Digite aqui" value="#{chatBean.requisicao}"/>
        <div class="botao-enviar">
            <p:commandButton value="Enviar" action="#{chatBean.enviarRequisicao()}" update="@form"/>
        </div>
    </h:panelGroup>
</h:panelGroup>
</html>
